{"version":3,"sources":["components/vesi.jpg","components/Etusivu.js","components/Lisaa.js","components/Lista.js","components/Muokkaa.js","components/Poista.js","components/Valikko.js","App.js","index.js"],"names":["Etusivu","Typography","style","textAlign","fontSize","marginBottom","marginTop","margin","alt","marginLeft","src","kuva","Lisaa","props","history","useHistory","useState","paino","setPaino","vesiMaara","setVesiMaara","Date","paiva","painoError","setPainoError","vesiError","setVesiError","utils","DateFnsUtils","locale","fi","TextField","placeholder","variant","fullWidth","error","helperText","onChange","e","target","value","Button","color","data","lampotila","tietoApu","id","uuid","vesi","getTime","tarve","suositus","setTiedot","tiedot","push","setKokonais","kokonais","Number","component","Link","to","size","Lista","List","map","tieto","idx","ListItem","ListItemIcon","Badge","badgeContent","ListItemText","primary","toFixed","secondary","format","IconButton","Muokkaa","useParams","nappiTeksti","setNappiTeksti","laskuApu","setLaskuApu","filter","idTieto","uusiPaino","uusiVesi","setUusiVesi","pvm","console","log","width","onClick","vesiApu","laskuri","tiedotApu","VesiApu","Poista","padding","Valikko","naytaValikko","setNaytaValikko","CssBaseline","AppBar","position","Toolbar","edge","Drawer","open","onClose","button","App","Data","setData","haeTiedot","a","fetch","yhteys","json","main","virhe","useEffect","localStorage","getItem","JSON","parse","setItem","stringify","path","exact","ReactDOM","render","document","getElementById"],"mappings":"wMAAe,MAA0B,iC,OCoB1BA,MAjBf,WACI,OACI,qCAEA,cAACC,EAAA,EAAD,CACAC,MAAO,CAACC,UAAU,SAAUC,SAAS,GAAIC,aAAa,GAAIC,UAAU,IADpE,sCAIA,cAACL,EAAA,EAAD,CAAYC,MAAO,CAACK,OAAO,IAA3B,kVAGA,qBAAKC,IAAI,OAAON,MAAO,CAACO,WAAW,OAAQC,IAAKC,Q,qEC2FzCC,MAhGf,SAAeC,GAAQ,IAAD,EAEZC,EAAUC,cAFE,EAGQC,mBAAS,GAHjB,mBAGXC,EAHW,KAGJC,EAHI,OAIgBF,oBAAU,GAJ1B,mBAIXG,EAJW,KAIAC,EAJA,OAKQJ,mBAAS,IAAIK,MALrB,mBAKXC,EALW,aAMkBN,mBAAS,IAN3B,mBAMXO,EANW,KAMCC,EAND,OAOgBR,mBAAS,GAPzB,mBAOXS,EAPW,KAOAC,EAPA,KA4ClB,OACI,eAAC,IAAD,CAAyBC,MAAOC,IAAcC,OAAQC,IAAtD,UAGA,cAACC,EAAA,EAAD,CAAWC,YAAY,gBACvB9B,MAAO,CAACG,aAAa,GAAIC,UAAU,GAAIC,OAAO,IAC9C0B,QAAQ,WACRC,WAAS,EACTC,MAAOZ,GAAc,EACrBa,WAAYb,GAAc,EAAI,2CAA6C,IAC3Ec,SAAY,SAACC,GACTpB,EAASoB,EAAEC,OAAOC,UAKtB,cAACT,EAAA,EAAD,CAAWC,YAAY,yBACvB9B,MAAO,CAACG,aAAa,GAAIE,OAAO,IAChC0B,QAAQ,WACRC,WAAS,EACTC,MAAOV,EAAY,EACnBW,WAAYX,EAAY,EAAI,iEAA0D,IACtFY,SAAY,SAACC,GACTlB,EAAakB,EAAEC,OAAOC,UAK1B,cAACC,EAAA,GAAD,GACAP,WAAS,EACTD,QAAQ,YACRS,MAAM,WAHN,mDAKK,SALL,yBA/DgB,WAEpB,GAAGzB,GAAS,GAAKE,EAAY,EACzBK,EAAcP,GACdS,EAAaP,OAEb,CACA,GAAGN,EAAM8B,KAAKC,UAAY,GAAG,CACzB,IAAIC,EAAW,CACXC,GAAKC,eACL9B,MAAQA,EACR+B,KAAO7B,EACPG,MAAQA,EAAM2B,UACdC,MAASjC,EAAQE,EACjBgC,SAAalC,EAAQ,GAAME,GAE/BN,EAAMuC,UAAN,sBAAoBvC,EAAMwC,QAA1B,CAAkCR,KAClC/B,EAAQwC,KAAK,cAEb,CACA,IAAIT,EAAW,CACXC,GAAKC,eACL9B,MAAQA,EACR+B,KAAO7B,EACPG,MAAQA,EAAM2B,UACdC,MAAUjC,EAAQE,GAAc,EAAKN,EAAM8B,KAAKC,UAAY,KAC5DO,SAAclC,EAAQ,IAAO,EAAKJ,EAAM8B,KAAKC,UAAY,KAASzB,GAEtEN,EAAMuC,UAAN,sBAAoBvC,EAAMwC,QAA1B,CAAkCR,KAClC/B,EAAQwC,KAAK,UAEjBzC,EAAM0C,YAAY1C,EAAM2C,SAAWC,OAAOtC,QAgC1C,oDASA,cAACsB,EAAA,EAAD,CACAiB,UAAWC,IACXC,GAAG,SACH3B,QAAQ,YACRS,MAAM,UACNR,WAAS,EACT2B,KAAK,QACL3D,MAAO,CAACI,UAAU,IAPlB,yB,sICTOwD,MAzEf,SAAejD,GAEX,OACI,qCAEA,cAACZ,EAAA,EAAD,CAAYC,MAAO,CAACC,UAAU,SAAUC,SAAS,GAAIE,UAAU,GAAID,aAAa,IAAhF,gCAGA,eAACJ,EAAA,EAAD,CAAYC,MAAO,CAACC,UAAU,SAAUC,SAAS,GAAIE,UAAU,GAAID,aAAa,IAAhF,mDACsBQ,EAAM8B,KAAKC,UADjC,YAGA,cAACH,EAAA,EAAD,CAAQiB,UAAWC,IACnBC,GAAG,SACH3B,QAAQ,YACRS,MAAM,UACNR,WAAS,EACT2B,KAAK,QALL,iEASA,cAACE,EAAA,EAAD,UACKlD,EAAMwC,OAAOW,KAAI,SAACC,EAAOC,GACtB,OACA,eAACC,EAAA,EAAD,WAEI,cAACC,EAAA,EAAD,UACUH,EAAMf,OAAS,KACf,cAACmB,EAAA,EAAD,CAAOC,aAAa,IAAI5B,MAAM,QAA9B,SACE,cAAC,IAAD,MAGF,cAAC,IAAD,MAIRuB,EAAMf,OAAS,KAEb,cAACqB,EAAA,EAAD,CACAC,QAASP,EAAMjB,KAAO,kBAAoBiB,EAAMd,SAASsB,QAAQ,GAAK,4BACtEC,UAAWC,YAAOV,EAAM3C,MAAO,WAG/B,cAACiD,EAAA,EAAD,CACAC,QAASP,EAAMjB,KAAO,gBACtB0B,UAAWC,YAAOV,EAAM3C,MAAO,WAInC,cAAC8C,EAAA,EAAD,UACI,cAACQ,EAAA,EAAD,CAAYlB,UAAWC,IAAMC,GAAE,kBAAaK,EAAMnB,IAAlD,SACI,cAAC,IAAD,QAIR,cAACsB,EAAA,EAAD,UACI,cAACQ,EAAA,EAAD,CAAYlB,UAAWC,IAAMC,GAAE,iBAAYK,EAAMnB,IAAjD,SACI,cAAC,IAAD,UAjCGoB,QA0CvB,eAACjE,EAAA,EAAD,CAAYC,MAAO,CAACC,UAAU,UAA9B,2BAAqDU,EAAM2C,gBC4DpDqB,MAjIf,SAAiBhE,GAEb,IAAMC,EAAUC,cACT+B,EAAMgC,cAANhC,GAHa,EAIkB9B,mBAAS,YAJ3B,mBAIb+D,EAJa,KAIAC,EAJA,OAKYhE,mBAAS,GALrB,mBAKbiE,EALa,KAKHC,EALG,OAMUlE,mBAASH,EAAMwC,OAAO8B,QAAO,SAAClB,GAAY,OAAQA,EAAMnB,KAAOA,KAAO,GAAGA,IANnF,mBAMbsC,EANa,aAOcpE,mBAASyC,OAAO5C,EAAMwC,OAAO8B,QAAO,SAAClB,GAAY,OAAQA,EAAMnB,KAAOA,KAAO,GAAG7B,SAP9F,mBAOboE,EAPa,aAQYrE,mBAASyC,OAAO5C,EAAMwC,OAAO8B,QAAO,SAAClB,GAAY,OAAQA,EAAMnB,KAAOA,KAAO,GAAGE,QAR5F,mBAQbsC,EARa,KAQHC,EARG,OASEvE,mBAASH,EAAMwC,OAAO8B,QAAO,SAAClB,GAAY,OAAQA,EAAMnB,KAAOA,KAAO,GAAGxB,OAT3E,mBASbkE,EATa,KA2EpB,OA3EoB,KA0ExBC,QAAQC,IAAIT,GAEN,qCAEE,eAAChF,EAAA,EAAD,CAAYC,MAAO,CAACE,SAAS,GAAID,UAAU,SAAUG,UAAU,GAAID,aAAa,IAChF6B,WAAS,EADT,UAEEoD,EAFF,aAKA,cAAC7C,EAAA,EAAD,CACAR,QAAQ,YACRS,MAAM,UACNmB,KAAK,QACL3D,MAAO,CAACI,UAAU,GAAIqF,MAAM,OAC5BC,QA1Ce,WAEfL,EADcD,EAAW,GAEzBN,EAAe,YAGfE,EADcD,EAAW,IAgCzB,+BASA,cAACxC,EAAA,EAAD,CACAR,QAAQ,YACRS,MAAM,UACNmB,KAAK,QACL3D,MAAO,CAACI,UAAU,GAAIqF,MAAM,OAC5BC,QAzCiB,WACjB,IAAIC,EAAUP,EAAW,EACrBQ,EAAUb,EAAW,EAEtBY,GAAW,GACVN,EAAYM,GACZb,EAAe,cAGfO,EAAY,GACZP,EAAe,kDAGnBE,EAAYY,GACRD,GAAW,GACXX,EAAY,EAAIzB,OAAO5C,EAAMwC,OAAO8B,QAAO,SAAClB,GAAY,OAAQA,EAAMnB,KAAOA,KAAO,GAAGE,QAqB3F,iCASA,cAACP,EAAA,EAAD,CACAiB,UAAWC,IACXC,GAAG,SACH3B,QAAQ,YACRS,MAAM,UACNR,WAAS,EACT2B,KAAK,QACL3D,MAAO,CAACI,UAAU,IAClBsF,QAjGgB,WAChB,IAAIG,EAAYlF,EAAMwC,OAAO8B,QAAO,SAAClB,GACjC,OAAOA,EAAMnB,KAAOA,KAGxB,GAAGjC,EAAM8B,KAAKC,UAAY,GAAG,CACzB,IAAIoD,EAAU,CACVlD,GAAKsC,EACLnE,MAAQoE,EACRrC,KAAOsC,EACPhE,MAAQkE,EACRtC,MAASmC,EAAYC,EACrBnC,SAAakC,EAAY,GAAMC,GAEnCzE,EAAMuC,UAAN,sBAAoB2C,GAApB,CAA+BC,KAC/BnF,EAAM0C,YAAY1C,EAAM2C,SAAWyB,GACnCC,EAAY,GACZpE,EAAQwC,KAAK,cAEb,CACA,IAAI0C,EAAU,CACVlD,GAAKsC,EACLnE,MAAQoE,EACRrC,KAAOsC,EACPhE,MAAQkE,EACRtC,MAAUmC,EAAYC,GAAa,EAAKzE,EAAM8B,KAAKC,UAAY,KAC/DO,SAAckC,EAAY,IAAO,EAAKxE,EAAM8B,KAAKC,UAAY,KAAS0C,GAE1EzE,EAAMuC,UAAU,CAAC4C,IAEjBlF,EAAQwC,KAAK,YA2DjB,SASEyB,IAGF,cAACtC,EAAA,EAAD,CACAiB,UAAWC,IACXC,GAAG,SACH3B,QAAQ,YACRS,MAAM,YACNR,WAAS,EACT2B,KAAK,QACL3D,MAAO,CAACI,UAAU,IAPlB,yBCtDO2F,MA1Df,SAAgBpF,GAEZ,IAAMC,EAAUC,cACT+B,EAAMgC,cAANhC,GAqBP,OACI,qCAEA,eAAC7C,EAAA,EAAD,CAAYC,MAAO,CAACgG,QAAQ,GAAI/F,UAAU,SAAUC,SAAS,IAA7D,uCAC4BuE,YAAO9D,EAAMwC,OAAO8B,QAAO,SAAClB,GACtD,OAAQA,EAAMnB,KAAOA,KAClB,GAAGxB,MAAO,SAHf,oBAMA,cAACmB,EAAA,EAAD,CACAR,QAAQ,YACRS,MAAM,UACNR,WAAS,EACT2B,KAAK,QACL3D,MAAO,CAACI,UAAU,IAClBsF,QAjCgB,WAElB,IAAIG,EAAYlF,EAAMwC,OAAO8B,QAAO,SAAClB,GACnC,OAAOA,EAAMnB,KAAOA,KAGpBjC,EAAMuC,UAAN,YAAoB2C,IAEhBtC,OAAO5C,EAAMwC,OAAO8B,QAAO,SAAClB,GAAY,OAAQA,EAAMnB,KAAOA,KAAO,GAAGE,OAAS,EAClFnC,EAAM0C,YAAY1C,EAAM2C,SAAWC,OAAO5C,EAAMwC,OAAO8B,QAAO,SAAClB,GAAY,OAAQA,EAAMnB,KAAOA,KAAO,GAAGE,OAG1GnC,EAAM0C,YAAY1C,EAAM2C,SAAWC,OAAO5C,EAAMwC,OAAO8B,QAAO,SAAClB,GAAY,OAAQA,EAAMnB,KAAOA,KAAO,GAAGE,OAG5GlC,EAAQwC,KAAK,WAYb,oBAUA,cAACb,EAAA,EAAD,CACAiB,UAAWC,IACXC,GAAG,SACH3B,QAAQ,YACRS,MAAM,UACNR,WAAS,EACT2B,KAAK,QACL3D,MAAO,CAACI,UAAU,IAPlB,yB,+GCIO6F,OA5Cf,WAAoB,IAAD,EAEyBnF,oBAAS,GAFlC,mBAERoF,EAFQ,KAEMC,EAFN,KAIf,OACI,cAACC,EAAA,EAAD,UAEA,cAACC,EAAA,EAAD,CAAQC,SAAS,SAAjB,SACI,eAACC,EAAA,EAAD,WACI,cAAC7B,EAAA,EAAD,CAAYlC,MAAM,UAAUgE,KAAK,QAAQd,QAAS,WAAOS,GAAgB,IAAzE,SACI,cAAC,IAAD,MAGJ,cAACM,EAAA,EAAD,CAAQC,KAAMR,EAAcS,QAAS,WAAOR,GAAgB,IAA5D,SACI,eAACtC,EAAA,EAAD,CAAM7D,MAAO,CAACyF,MAAO,IAAKrF,UAAW,IAAKsF,QAAS,WAAOS,GAAgB,IAA1E,UACI,eAAClC,EAAA,EAAD,CAAU2C,QAAM,EAACpD,UAAWC,IAAMC,GAAG,IAArC,UACI,cAACQ,EAAA,EAAD,UACI,cAAC,IAAD,MAEJ,cAACG,EAAA,EAAD,CAAcC,QAAQ,eAG1B,eAACL,EAAA,EAAD,CAAU2C,QAAM,EAACpD,UAAWC,IAAMC,GAAG,SAArC,UACI,cAACQ,EAAA,EAAD,UACI,cAAC,IAAD,MAEJ,cAACG,EAAA,EAAD,CAAcC,QAAQ,aAG1B,eAACL,EAAA,EAAD,CAAU2C,QAAM,EAACpD,UAAWC,IAAMC,GAAG,SAArC,UACI,cAACQ,EAAA,EAAD,UACI,cAAC,KAAD,MAEJ,cAACG,EAAA,EAAD,CAAcC,QAAQ,gCCsEnCuC,OApGf,WAAgB,IAAD,EAEmB/F,mBAAS,GAF5B,mBAENwC,EAFM,KAEID,EAFJ,OAGevC,mBAAS,IAHxB,mBAGNqC,EAHM,KAGED,EAHF,OAIWpC,mBAAS,IAJpB,mBAINgG,EAJM,KAIAC,EAJA,KAKPC,EAAS,uCAAG,8BAAAC,EAAA,+EAGOC,MAAM,oDAHb,cAGRC,EAHQ,gBAIKA,EAAOC,OAJZ,OAIR3E,EAJQ,OAMdsE,EAAQ,2BAAID,GAAL,IACLpE,UAAYD,EAAK4E,KAAL,KACZC,MAAQ,MARI,kDAWdP,EAAQ,2BAAID,GAAL,IACLQ,MAAQ,qEAZI,0DAAH,qDAwCf,OAXAC,qBAAU,WACRP,IATGQ,aAAaC,QAAQ,SACtBvE,EAAUwE,KAAKC,MAAMH,aAAaC,QAAQ,WAG1CvE,EAAU,MAQX,IAEHqE,qBAAU,WAlBRC,aAAaI,QAAQ,QAASF,KAAKG,UAAU1E,MAqB5C,CAACA,IAGF,mCAEE2D,EAAKQ,MAEH,cAACvH,EAAA,EAAD,CAAYyC,MAAM,QAAlB,SAA2BsE,EAAKQ,QAEhC,eAAC,IAAD,WAEE,cAAC,GAAD,IAEA,cAAC,IAAD,CAAOQ,KAAK,IAAIC,OAAK,EAArB,SACE,cAAC,EAAD,MAGF,cAAC,IAAD,CAAOD,KAAK,SAAZ,SACE,cAAC,EAAD,CAAO3E,OAAQA,EACfD,UAAWA,EACXT,KAAMqE,EACNC,QAASA,EACTzD,SAAUA,EACVD,YAAaA,MAGf,cAAC,IAAD,CAAOyE,KAAK,SAAZ,SACE,cAAC,EAAD,CAAO3E,OAAQA,EACfD,UAAWA,EACXT,KAAMqE,EACNC,QAASA,EACTzD,SAAUA,EACVD,YAAaA,MAGf,cAAC,IAAD,CAAOyE,KAAK,eAAZ,SACE,cAAC,EAAD,CAAS3E,OAAQA,EACjBD,UAAWA,EACXT,KAAMqE,EACNC,QAASA,EACTzD,SAAUA,EACVD,YAAaA,MAGf,cAAC,IAAD,CAAOyE,KAAK,cAAZ,SACE,cAAC,EAAD,CAAQ3E,OAAQA,EAChBD,UAAWA,EACXI,SAAUA,EACVD,YAAaA,YClGzB2E,IAASC,OAEL,cAAC,GAAD,IAEFC,SAASC,eAAe,W","file":"static/js/main.dee65cc9.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/vesi.f9f0062c.jpg\";","import {Typography} from '@material-ui/core'\r\nimport kuva from './vesi.jpg'\r\n\r\nfunction Etusivu() {\r\n    return(\r\n        <>\r\n\r\n        <Typography \r\n        style={{textAlign:\"center\", fontSize:20, marginBottom:30, marginTop:10}}\r\n        >Vesi on tärkeää</Typography>\r\n\r\n        <Typography style={{margin:10}}\r\n        >Ihminen on noin 62-prosenttisesti vettä, ja jo muutaman prosentin nestehukka heikentää työkykyä merkittävästi. Kahdenkymmenen prosentin vajaus johtaa kuolemaan. Koska vettä poistuu ihmisessä monella tavalla, ihminen tarvitsee elääkseen jatkuvasti merkittäviä määriä vettä. </Typography>\r\n\r\n        <img alt=\"kuva\" style={{marginLeft:\"10%\"}} src={kuva}></img> \r\n        {/*align=\"middle\" ei toiminut, en keksinyt parempaa tapaa, olisi muuten vasemmalla laidassa */}\r\n        </>\r\n    );\r\n}\r\n\r\nexport default Etusivu;","import {useState} from 'react';\r\nimport { Button, TextField } from \"@material-ui/core\";\r\nimport {Link, useHistory} from 'react-router-dom';\r\nimport {v4 as uuid} from 'uuid';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport {MuiPickersUtilsProvider} from '@material-ui/pickers';\r\nimport {fi} from 'date-fns/locale';\r\n\r\n\r\nfunction Lisaa(props) {\r\n\r\n    const history = useHistory();\r\n    const [paino, setPaino] = useState(0);\r\n    const [vesiMaara, setVesiMaara] = useState(-1);\r\n    const [paiva, setPaiva] = useState(new Date());\r\n    const [painoError, setPainoError] = useState(1);\r\n    const [vesiError, setVesiError] = useState(1);\r\n\r\n    const lisaaTiedot = () => {\r\n\r\n    if(paino <= 0 || vesiMaara < 0){\r\n        setPainoError(paino);\r\n        setVesiError(vesiMaara);\r\n    }\r\n    else{                              //lisaa tarpeeseen lisaa lampimalla saalla\r\n        if(props.data.lampotila < 15){  //toimii vaan kesalla :(\r\n            let tietoApu = {\r\n                id : uuid(),\r\n                paino : paino,\r\n                vesi : vesiMaara,\r\n                paiva : paiva.getTime(),\r\n                tarve : (paino / vesiMaara),\r\n                suositus : ((paino / 30) - vesiMaara)\r\n            }\r\n            props.setTiedot([...props.tiedot, tietoApu]);\r\n            history.push(\"/lista\")\r\n        }\r\n        else{\r\n            let tietoApu = {\r\n                id : uuid(),\r\n                paino : paino,\r\n                vesi : vesiMaara,\r\n                paiva : paiva.getTime(), //aika varma, etta laskukaavassa tuli jotain virheita, aivot ihan solmussa\r\n                tarve : ((paino / vesiMaara) * (1 + (props.data.lampotila / 100))),\r\n                suositus : (((paino / 30) * (1 + (props.data.lampotila / 100))) - vesiMaara)\r\n            }\r\n            props.setTiedot([...props.tiedot, tietoApu]);\r\n            history.push(\"/lista\")\r\n        }\r\n        props.setKokonais(props.kokonais + Number(vesiMaara));\r\n    }\r\n    }\r\n\r\n    return(\r\n        <MuiPickersUtilsProvider utils={DateFnsUtils} locale={fi}>\r\n\r\n\r\n        <TextField placeholder=\"Paino (kg)...\"\r\n        style={{marginBottom:20, marginTop:20, margin:10}}\r\n        variant=\"outlined\"\r\n        fullWidth\r\n        error={painoError <= 0}\r\n        helperText={painoError <= 0 ? 'Paino ei voi olla negatiivinen tai nolla' : ' '}\r\n        onChange = {(e) => {\r\n            setPaino(e.target.value);\r\n            }}\r\n        ></TextField>\r\n\r\n\r\n        <TextField placeholder=\"Juotu vesi litroina...\"\r\n        style={{marginBottom:20, margin:10}}\r\n        variant=\"outlined\"\r\n        fullWidth\r\n        error={vesiError < 0}\r\n        helperText={vesiError < 0 ? 'Veden määrä ei voi olla negatiivinen tai arvo puuttuu' : ' '}\r\n        onChange = {(e) => {\r\n            setVesiMaara(e.target.value);\r\n            }}\r\n        ></TextField>\r\n\r\n\r\n        <Button\r\n        fullWidth\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        fullWidth \r\n        size=\"large\"\r\n        onClick={lisaaTiedot}\r\n        >Lisää listaan</Button>\r\n\r\n        <Button\r\n        component={Link}\r\n        to=\"/lista\"\r\n        variant=\"contained\" \r\n        color=\"default\" \r\n        fullWidth \r\n        size=\"large\"\r\n        style={{marginTop:10}}\r\n        >Peruuta\r\n        </Button>\r\n\r\n        </MuiPickersUtilsProvider>\r\n    );\r\n}\r\n\r\nexport default Lisaa;","import {Badge, Button, IconButton, List, ListItem, ListItemIcon, ListItemText, Typography } from \"@material-ui/core\";\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport FormatColorResetIcon from '@material-ui/icons/FormatColorReset';\r\nimport LocalDrinkIcon from '@material-ui/icons/LocalDrink';\r\nimport IsoIcon from '@material-ui/icons/Iso';\r\nimport {Link} from 'react-router-dom';\r\nimport {format} from 'date-fns';\r\n\r\nfunction Lista(props) {\r\n\r\n    return(\r\n        <>\r\n\r\n        <Typography style={{textAlign:\"center\", fontSize:24, marginTop:20, marginBottom:20}}\r\n        >Juodun veden lista</Typography>\r\n\r\n        <Typography style={{textAlign:\"center\", fontSize:15, marginTop:20, marginBottom:20}}\r\n        >Tämänpäiväinen sää: {props.data.lampotila} °C</Typography>\r\n\r\n        <Button component={Link} \r\n        to=\"/lisaa\"\r\n        variant=\"contained\" \r\n        color=\"primary\" \r\n        fullWidth \r\n        size=\"large\"\r\n        >Lisää tämänpäiväinen veden juonti\r\n        </Button>\r\n\r\n        <List>\r\n            {props.tiedot.map((tieto, idx) => {\r\n                return (\r\n                <ListItem key={idx}>\r\n\r\n                    <ListItemIcon>\r\n                            {(tieto.tarve >= 32.5) //koodi ilmoittaa, jos juot liian vahan\r\n                            ? <Badge badgeContent=\"!\" color=\"error\">\r\n                                <FormatColorResetIcon/>\r\n                                </Badge>\r\n\r\n                            : <LocalDrinkIcon/>\r\n                            }\r\n                    </ListItemIcon>\r\n                    \r\n                    {(tieto.tarve >= 32.5)\r\n\r\n                    ?   <ListItemText \r\n                        primary={tieto.vesi + \" litraa juotu, \" + tieto.suositus.toFixed(1) + \" litraa liian vähän\"}\r\n                        secondary={format(tieto.paiva, \"d.M.y\")}\r\n                        />\r\n                        \r\n                    :   <ListItemText \r\n                        primary={tieto.vesi + \" litraa juotu\"}\r\n                        secondary={format(tieto.paiva, \"d.M.y\")}\r\n                        />\r\n                    }\r\n\r\n                    <ListItemIcon>\r\n                        <IconButton component={Link} to={`muokkaa/${tieto.id}`}>\r\n                            <IsoIcon/>\r\n                        </IconButton>\r\n                    </ListItemIcon>\r\n                    \r\n                    <ListItemIcon>\r\n                        <IconButton component={Link} to={`poista/${tieto.id}`}>\r\n                            <DeleteIcon/>\r\n                        </IconButton>\r\n                    </ListItemIcon>\r\n                    \r\n                </ListItem> \r\n                )\r\n            })}\r\n        </List>\r\n\r\n        <Typography style={{textAlign:\"center\"}}>Yhteensä : {props.kokonais}</Typography>\r\n\r\n\r\n        </>\r\n\r\n    );\r\n}\r\n\r\nexport default Lista;","import { Button, Typography } from \"@material-ui/core\";\r\nimport {Link, useHistory, useParams} from 'react-router-dom';\r\nimport { useState} from 'react';\r\n\r\nfunction Muokkaa(props) {\r\n\r\n    const history = useHistory();\r\n    const {id} = useParams();\r\n    const [nappiTeksti, setNappiTeksti] = useState(\"Tallenna\");\r\n    const [laskuApu, setLaskuApu] = useState(0);\r\n    const [idTieto, setIdTieto] = useState(props.tiedot.filter((tieto) => { return (tieto.id === id);})[0].id);\r\n    const [uusiPaino, setUusiPaino] = useState(Number(props.tiedot.filter((tieto) => { return (tieto.id === id);})[0].paino));\r\n    const [uusiVesi, setUusiVesi] = useState(Number(props.tiedot.filter((tieto) => { return (tieto.id === id);})[0].vesi));\r\n    const [pvm, setPvm] = useState(props.tiedot.filter((tieto) => { return (tieto.id === id);})[0].paiva);\r\n    //paivamaara on koodissa, koska muuten tulee erroria. Tarkoituksena ei ole mahdollista muuttaa paivaa.\r\n\r\n    const muokkaaVesi = () => {\r\n        let tiedotApu = props.tiedot.filter((tieto) => {\r\n            return(tieto.id !== id);\r\n          });\r\n\r\n        if(props.data.lampotila < 15){\r\n            let VesiApu = {\r\n                id : idTieto,\r\n                paino : uusiPaino,\r\n                vesi : uusiVesi,\r\n                paiva : pvm,\r\n                tarve : (uusiPaino / uusiVesi),\r\n                suositus : ((uusiPaino / 30) - uusiVesi)\r\n            }\r\n            props.setTiedot([...tiedotApu, VesiApu]);\r\n            props.setKokonais(props.kokonais + laskuApu);\r\n            setLaskuApu(0);\r\n            history.push(\"/lista\"); \r\n        }\r\n        else{\r\n            let VesiApu = {\r\n                id : idTieto,\r\n                paino : uusiPaino,\r\n                vesi : uusiVesi,\r\n                paiva : pvm,\r\n                tarve : ((uusiPaino / uusiVesi) * (1 + (props.data.lampotila / 100))),\r\n                suositus : (((uusiPaino / 30) * (1 + (props.data.lampotila / 100))) - uusiVesi)\r\n            }\r\n            props.setTiedot([VesiApu]);\r\n\r\n            history.push(\"/lista\");    \r\n        }\r\n    }\r\n\r\n    const lisaaLitra = () => {\r\n        let vesiApu = uusiVesi + 1;\r\n        setUusiVesi(vesiApu);\r\n        setNappiTeksti(\"Tallenna\");\r\n\r\n        let laskuri = laskuApu + 1;\r\n        setLaskuApu(laskuri);\r\n    }\r\n\r\n    \r\n    const vahennaLitra = () => {\r\n        let vesiApu = uusiVesi - 1;\r\n        let laskuri = laskuApu - 1; //mahdollistaa vahennusten lisauksen kokonaislaskuun\r\n\r\n        if(vesiApu >= 0){\r\n            setUusiVesi(vesiApu);\r\n            setNappiTeksti(\"Tallenna\");\r\n        }\r\n        else{\r\n            setUusiVesi(0); //poistaa desimaalit ja arvo voi siten olla nolla\r\n            setNappiTeksti(\"Veden määrä ei voi olla negatiivinen\");\r\n        }\r\n\r\n        setLaskuApu(laskuri);\r\n        if (vesiApu <= 0){\r\n            setLaskuApu(0 - Number(props.tiedot.filter((tieto) => { return (tieto.id === id);})[0].vesi));\r\n        }\r\n    }\r\nconsole.log(laskuApu);\r\n    return(\r\n      <>\r\n\r\n        <Typography style={{fontSize:20, textAlign:\"center\", marginTop:20, marginBottom:10}} \r\n        fullWidth\r\n        >{uusiVesi} litraa\r\n        </Typography>\r\n\r\n        <Button\r\n        variant=\"contained\" \r\n        color=\"default\"\r\n        size=\"large\"\r\n        style={{marginTop:10, width:\"50%\"}}\r\n        onClick={lisaaLitra}\r\n        >Lisää litra\r\n        </Button>\r\n\r\n        <Button\r\n        variant=\"contained\" \r\n        color=\"default\" \r\n        size=\"large\"\r\n        style={{marginTop:10, width:\"50%\"}}\r\n        onClick={vahennaLitra}\r\n        >Vähennä litra\r\n        </Button>\r\n\r\n        <Button\r\n        component={Link}\r\n        to=\"/lista\"\r\n        variant=\"contained\" \r\n        color=\"primary\"\r\n        fullWidth\r\n        size=\"large\"\r\n        style={{marginTop:10}}\r\n        onClick={muokkaaVesi}\r\n        >{nappiTeksti}\r\n        </Button>\r\n\r\n        <Button\r\n        component={Link}\r\n        to=\"/lista\"\r\n        variant=\"contained\" \r\n        color=\"secondary\"\r\n        fullWidth\r\n        size=\"large\"\r\n        style={{marginTop:10}}\r\n        >Peruuta\r\n        </Button>\r\n\r\n      </>\r\n    );\r\n\r\n}\r\n\r\nexport default Muokkaa;","import { Button, Typography } from \"@material-ui/core\";\r\nimport {Link, useHistory, useParams} from 'react-router-dom';\r\nimport {format} from 'date-fns';\r\n\r\n\r\nfunction Poista(props) {\r\n\r\n    const history = useHistory();\r\n    const {id} = useParams();\r\n\r\n\r\n    const poistaTieto = () => {\r\n\r\n      let tiedotApu = props.tiedot.filter((tieto) => {\r\n        return(tieto.id !== id);\r\n      });\r\n\r\n        props.setTiedot([...tiedotApu]);\r\n\r\n        if (Number(props.tiedot.filter((tieto) => { return (tieto.id === id);})[0].vesi) <= 0) {\r\n          props.setKokonais(props.kokonais + Number(props.tiedot.filter((tieto) => { return (tieto.id === id);})[0].vesi))\r\n        }\r\n        else{\r\n          props.setKokonais(props.kokonais - Number(props.tiedot.filter((tieto) => { return (tieto.id === id);})[0].vesi))\r\n        }\r\n        \r\n        history.push(\"/lista\");\r\n      }\r\n\r\n    return(\r\n        <>\r\n\r\n        <Typography style={{padding:40, textAlign:\"center\", fontSize:20}}\r\n        >Haluatko varmasti poistaa {format(props.tiedot.filter((tieto) => {\r\n          return (tieto.id === id);\r\n          })[0].paiva, \"d.M.y\")} vedenjuonnin?\r\n        </Typography>\r\n\r\n        <Button\r\n        variant=\"contained\" \r\n        color=\"primary\" \r\n        fullWidth \r\n        size=\"large\"\r\n        style={{marginTop:10}}\r\n        onClick={poistaTieto}\r\n        >Poista\r\n        </Button>\r\n\r\n        <Button\r\n        component={Link}\r\n        to=\"/lista\"\r\n        variant=\"contained\" \r\n        color=\"default\" \r\n        fullWidth \r\n        size=\"large\"\r\n        style={{marginTop:10}}\r\n        >Peruuta\r\n        </Button>\r\n      </>\r\n    );\r\n\r\n}\r\n\r\nexport default Poista;","import { AppBar, CssBaseline, Drawer, IconButton, List, ListItem, ListItemIcon, ListItemText, Toolbar } from \"@material-ui/core\";\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport DehazeIcon from '@material-ui/icons/Dehaze';\r\nimport AddCircleOutlineIcon from '@material-ui/icons/AddCircleOutline';\r\nimport {useState} from 'react';\r\nimport {Link} from 'react-router-dom';\r\n\r\nfunction Valikko() {\r\n\r\n    const [naytaValikko, setNaytaValikko] = useState(false);\r\n\r\n    return(\r\n        <CssBaseline>\r\n\r\n        <AppBar position=\"static\">\r\n            <Toolbar>\r\n                <IconButton color=\"inherit\" edge=\"start\" onClick={() => {setNaytaValikko(true)}}>\r\n                    <MenuIcon/>\r\n                </IconButton>\r\n\r\n                <Drawer open={naytaValikko} onClose={() => {setNaytaValikko(false)}}>\r\n                    <List style={{width: 220, marginTop: 60}} onClick={() => {setNaytaValikko(false)}}>\r\n                        <ListItem button component={Link} to=\"/\">\r\n                            <ListItemIcon>\r\n                                <HomeIcon/>\r\n                            </ListItemIcon>\r\n                            <ListItemText primary=\"Etusivu\"/>\r\n                        </ListItem>\r\n\r\n                        <ListItem button component={Link} to=\"/lista\">\r\n                            <ListItemIcon>\r\n                                <DehazeIcon/>\r\n                            </ListItemIcon>\r\n                            <ListItemText primary=\"Lista\"/>\r\n                        </ListItem>\r\n\r\n                        <ListItem button component={Link} to=\"/lisaa\">\r\n                            <ListItemIcon>\r\n                                <AddCircleOutlineIcon/>\r\n                            </ListItemIcon>\r\n                            <ListItemText primary=\"Lisää\"/>\r\n                        </ListItem>\r\n                    </List>\r\n                </Drawer>\r\n            </Toolbar>\r\n        </AppBar>\r\n\r\n        </CssBaseline>\r\n    );\r\n}\r\n\r\nexport default Valikko;","import {Typography } from '@material-ui/core';\nimport {useEffect, useState} from 'react';\nimport {BrowserRouter as Router, Route} from 'react-router-dom';\nimport Etusivu from \"./components/Etusivu\";\nimport Lisaa from \"./components/Lisaa\";\nimport Lista from \"./components/Lista\";\nimport Muokkaa from './components/Muokkaa';\nimport Poista from './components/Poista';\nimport Valikko from './components/Valikko';\n\n\nfunction App() {\n\n  const [kokonais, setKokonais] = useState(0);\n  const [tiedot, setTiedot] = useState([]);\n  const [Data, setData] = useState([]);\n  const haeTiedot = async () => {\n\n    try{\n      const yhteys = await fetch(\"https://xamkbit.herokuapp.com/saatilanne/mikkeli\");\n      const data = await yhteys.json();\n\n      setData({...Data,\n        lampotila : data.main[\"temp\"],\n        virhe : \"\" });\n    }\n    catch(e) {\n      setData({...Data, \n        virhe : \"Ei yhteyttä palvelimeen. Yritä uudelleen hetken kuluttua.\" });\n    }\n  }\n\n  const tallennaTiedot = () => {\n    localStorage.setItem(\"lista\", JSON.stringify(tiedot));\n  }\n\n  const avaaLista = () => {\n    if(localStorage.getItem(\"lista\")) {\n      setTiedot(JSON.parse(localStorage.getItem(\"lista\"))); //oletusarvot katoaa taman takia\n    }                                                            \n    else {\n      setTiedot([]); \n    }\n  }\n\n  useEffect(() => {\n    haeTiedot();\n    avaaLista();\n    //eslint-disable-next-line\n  }, []);\n\n  useEffect(() => {\n    tallennaTiedot();\n    //eslint-disable-next-line\n  }, [tiedot]);\n\n  return (\n    <>\n\n    {(Data.virhe)\n\n      ? <Typography color=\"error\">{Data.virhe}</Typography>\n\n      : <Router>\n\n          <Valikko/>\n\n          <Route path=\"/\" exact>\n            <Etusivu/>\n          </Route>\n\n          <Route path=\"/lista\">\n            <Lista tiedot={tiedot} \n            setTiedot={setTiedot} \n            data={Data} \n            setData={setData}\n            kokonais={kokonais} \n            setKokonais={setKokonais}/>\n          </Route>\n\n          <Route path=\"/lisaa\">\n            <Lisaa tiedot={tiedot} \n            setTiedot={setTiedot} \n            data={Data} \n            setData={setData}\n            kokonais={kokonais} \n            setKokonais={setKokonais} />\n          </Route>\n\n          <Route path=\"/muokkaa/:id\">\n            <Muokkaa tiedot={tiedot} \n            setTiedot={setTiedot} \n            data={Data} \n            setData={setData}\n            kokonais={kokonais} \n            setKokonais={setKokonais}/>\n          </Route>\n\n          <Route path=\"/poista/:id\">\n            <Poista tiedot={tiedot} \n            setTiedot={setTiedot}\n            kokonais={kokonais} \n            setKokonais={setKokonais}/>\n          </Route>\n          \n        </Router>\n    }\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n\n    <App />,\n\n  document.getElementById('root')\n);\n"],"sourceRoot":""}