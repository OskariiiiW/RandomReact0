(this.webpackJsonptehtava=this.webpackJsonptehtava||[]).push([[0],{130:function(t,e,a){"use strict";a.r(e);var i=a(0),n=a(13),o=a.n(n),c=a(81),r=a.n(c),s=a(55),l=a(94),j=a(15),u=a(76),d=a(17),b=a(14),O=a.p+"static/media/vesi.f9f0062c.jpg",h=a(4);var m=function(){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(u.a,{style:{textAlign:"center",fontSize:20,marginBottom:30,marginTop:10},children:"Vesi on t\xe4rke\xe4\xe4"}),Object(h.jsx)(u.a,{style:{margin:10},children:"Ihminen on noin 62-prosenttisesti vett\xe4, ja jo muutaman prosentin nestehukka heikent\xe4\xe4 ty\xf6kyky\xe4 merkitt\xe4v\xe4sti. Kahdenkymmenen prosentin vajaus johtaa kuolemaan. Koska vett\xe4 poistuu ihmisess\xe4 monella tavalla, ihminen tarvitsee el\xe4\xe4kseen jatkuvasti merkitt\xe4vi\xe4 m\xe4\xe4ri\xe4 vett\xe4. "}),Object(h.jsx)("img",{alt:"kuva",style:{marginLeft:"10%"},src:O})]})},p=a(47),v=a(46),x=a(177),f=a(168),g=a(83),k=a(107),y=a(166),T=a(178);var S=function(t){var e,a=Object(b.e)(),n=Object(i.useState)(0),o=Object(j.a)(n,2),c=o[0],r=o[1],s=Object(i.useState)(-1),l=Object(j.a)(s,2),u=l[0],O=l[1],m=Object(i.useState)(new Date),S=Object(j.a)(m,2),z=S[0],C=(S[1],Object(i.useState)(1)),W=Object(j.a)(C,2),K=W[0],N=W[1],w=Object(i.useState)(1),B=Object(j.a)(w,2),A=B[0],F=B[1];return Object(h.jsxs)(y.a,{utils:k.a,locale:T.a,children:[Object(h.jsx)(x.a,{placeholder:"Paino (kg)...",style:{marginBottom:20,marginTop:20,margin:10},variant:"outlined",fullWidth:!0,error:K<=0,helperText:K<=0?"Paino ei voi olla negatiivinen tai nolla":" ",onChange:function(t){r(t.target.value)}}),Object(h.jsx)(x.a,{placeholder:"Juotu vesi litroina...",style:{marginBottom:20,margin:10},variant:"outlined",fullWidth:!0,error:A<0,helperText:A<0?"Veden m\xe4\xe4r\xe4 ei voi olla negatiivinen tai arvo puuttuu":" ",onChange:function(t){O(t.target.value)}}),Object(h.jsx)(f.a,(e={fullWidth:!0,variant:"contained",color:"primary"},Object(p.a)(e,"fullWidth",!0),Object(p.a)(e,"size","large"),Object(p.a)(e,"onClick",(function(){if(c<=0||u<0)N(c),F(u);else{if(t.data.lampotila<15){var e={id:Object(g.v4)(),paino:c,vesi:u,paiva:z.getTime(),tarve:c/u,suositus:c/30-u};t.setTiedot([].concat(Object(v.a)(t.tiedot),[e])),a.push("/lista")}else{var i={id:Object(g.v4)(),paino:c,vesi:u,paiva:z.getTime(),tarve:c/u*(1+t.data.lampotila/100),suositus:c/30*(1+t.data.lampotila/100)-u};t.setTiedot([].concat(Object(v.a)(t.tiedot),[i])),a.push("/lista")}t.setKokonais(t.kokonais+Number(u))}})),Object(p.a)(e,"children","Lis\xe4\xe4 listaan"),e)),Object(h.jsx)(f.a,{component:d.b,to:"/lista",variant:"contained",color:"default",fullWidth:!0,size:"large",style:{marginTop:10},children:"Peruuta"})]})},z=a(167),C=a(169),W=a(170),K=a(171),N=a(172),w=a(173),B=a(102),A=a.n(B),F=a(99),J=a.n(F),L=a(100),P=a.n(L),E=a(101),I=a.n(E),D=a(108);var V=function(t){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(u.a,{style:{textAlign:"center",fontSize:24,marginTop:20,marginBottom:20},children:"Juodun veden lista"}),Object(h.jsxs)(u.a,{style:{textAlign:"center",fontSize:15,marginTop:20,marginBottom:20},children:["T\xe4m\xe4np\xe4iv\xe4inen s\xe4\xe4: ",t.data.lampotila," \xb0C"]}),Object(h.jsx)(f.a,{component:d.b,to:"/lisaa",variant:"contained",color:"primary",fullWidth:!0,size:"large",children:"Lis\xe4\xe4 t\xe4m\xe4np\xe4iv\xe4inen veden juonti"}),Object(h.jsx)(z.a,{children:t.tiedot.map((function(t,e){return Object(h.jsxs)(C.a,{children:[Object(h.jsx)(W.a,{children:t.tarve>=32.5?Object(h.jsx)(K.a,{badgeContent:"!",color:"error",children:Object(h.jsx)(J.a,{})}):Object(h.jsx)(P.a,{})}),t.tarve>=32.5?Object(h.jsx)(N.a,{primary:t.vesi+" litraa juotu, "+t.suositus.toFixed(1)+" litraa liian v\xe4h\xe4n",secondary:Object(D.a)(t.paiva,"d.M.y")}):Object(h.jsx)(N.a,{primary:t.vesi+" litraa juotu",secondary:Object(D.a)(t.paiva,"d.M.y")}),Object(h.jsx)(W.a,{children:Object(h.jsx)(w.a,{component:d.b,to:"muokkaa/".concat(t.id),children:Object(h.jsx)(I.a,{})})}),Object(h.jsx)(W.a,{children:Object(h.jsx)(w.a,{component:d.b,to:"poista/".concat(t.id),children:Object(h.jsx)(A.a,{})})})]},e)}))}),Object(h.jsxs)(u.a,{style:{textAlign:"center"},children:["Yhteens\xe4 : ",t.kokonais]})]})};var M=function(t){var e=Object(b.e)(),a=Object(b.f)().id,n=Object(i.useState)("Tallenna"),o=Object(j.a)(n,2),c=o[0],r=o[1],s=Object(i.useState)(0),l=Object(j.a)(s,2),O=l[0],m=l[1],p=Object(i.useState)(t.tiedot.filter((function(t){return t.id===a}))[0].id),x=Object(j.a)(p,2),g=x[0],k=(x[1],Object(i.useState)(Number(t.tiedot.filter((function(t){return t.id===a}))[0].paino))),y=Object(j.a)(k,2),T=y[0],S=(y[1],Object(i.useState)(Number(t.tiedot.filter((function(t){return t.id===a}))[0].vesi))),z=Object(j.a)(S,2),C=z[0],W=z[1],K=Object(i.useState)(t.tiedot.filter((function(t){return t.id===a}))[0].paiva),N=Object(j.a)(K,2),w=N[0];return N[1],console.log(O),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(u.a,{style:{fontSize:20,textAlign:"center",marginTop:20,marginBottom:10},fullWidth:!0,children:[C," litraa"]}),Object(h.jsx)(f.a,{variant:"contained",color:"default",size:"large",style:{marginTop:10,width:"50%"},onClick:function(){W(C+1),r("Tallenna"),m(O+1)},children:"Lis\xe4\xe4 litra"}),Object(h.jsx)(f.a,{variant:"contained",color:"default",size:"large",style:{marginTop:10,width:"50%"},onClick:function(){var e=C-1,i=O-1;e>=0?(W(e),r("Tallenna")):(W(0),r("Veden m\xe4\xe4r\xe4 ei voi olla negatiivinen")),m(i),e<=0&&m(0-Number(t.tiedot.filter((function(t){return t.id===a}))[0].vesi))},children:"V\xe4henn\xe4 litra"}),Object(h.jsx)(f.a,{component:d.b,to:"/lista",variant:"contained",color:"primary",fullWidth:!0,size:"large",style:{marginTop:10},onClick:function(){var i=t.tiedot.filter((function(t){return t.id!==a}));if(t.data.lampotila<15){var n={id:g,paino:T,vesi:C,paiva:w,tarve:T/C,suositus:T/30-C};t.setTiedot([].concat(Object(v.a)(i),[n])),t.setKokonais(t.kokonais+O),m(0),e.push("/lista")}else{var o={id:g,paino:T,vesi:C,paiva:w,tarve:T/C*(1+t.data.lampotila/100),suositus:T/30*(1+t.data.lampotila/100)-C};t.setTiedot([o]),e.push("/lista")}},children:c}),Object(h.jsx)(f.a,{component:d.b,to:"/lista",variant:"contained",color:"secondary",fullWidth:!0,size:"large",style:{marginTop:10},children:"Peruuta"})]})};var Y=function(t){var e=Object(b.e)(),a=Object(b.f)().id;return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(u.a,{style:{padding:40,textAlign:"center",fontSize:20},children:["Haluatko varmasti poistaa ",Object(D.a)(t.tiedot.filter((function(t){return t.id===a}))[0].paiva,"d.M.y")," vedenjuonnin?"]}),Object(h.jsx)(f.a,{variant:"contained",color:"primary",fullWidth:!0,size:"large",style:{marginTop:10},onClick:function(){var i=t.tiedot.filter((function(t){return t.id!==a}));t.setTiedot(Object(v.a)(i)),Number(t.tiedot.filter((function(t){return t.id===a}))[0].vesi)<=0?t.setKokonais(t.kokonais+Number(t.tiedot.filter((function(t){return t.id===a}))[0].vesi)):t.setKokonais(t.kokonais-Number(t.tiedot.filter((function(t){return t.id===a}))[0].vesi)),e.push("/lista")},children:"Poista"}),Object(h.jsx)(f.a,{component:d.b,to:"/lista",variant:"contained",color:"default",fullWidth:!0,size:"large",style:{marginTop:10},children:"Peruuta"})]})},H=a(174),q=a(175),G=a(176),Q=a(180),R=a(103),U=a.n(R),X=a(104),Z=a.n(X),$=a(105),_=a.n($),tt=a(106),et=a.n(tt);var at=function(){var t=Object(i.useState)(!1),e=Object(j.a)(t,2),a=e[0],n=e[1];return Object(h.jsx)(H.a,{children:Object(h.jsx)(q.a,{position:"static",children:Object(h.jsxs)(G.a,{children:[Object(h.jsx)(w.a,{color:"inherit",edge:"start",onClick:function(){n(!0)},children:Object(h.jsx)(U.a,{})}),Object(h.jsx)(Q.a,{open:a,onClose:function(){n(!1)},children:Object(h.jsxs)(z.a,{style:{width:220,marginTop:60},onClick:function(){n(!1)},children:[Object(h.jsxs)(C.a,{button:!0,component:d.b,to:"/",children:[Object(h.jsx)(W.a,{children:Object(h.jsx)(Z.a,{})}),Object(h.jsx)(N.a,{primary:"Etusivu"})]}),Object(h.jsxs)(C.a,{button:!0,component:d.b,to:"/lista",children:[Object(h.jsx)(W.a,{children:Object(h.jsx)(_.a,{})}),Object(h.jsx)(N.a,{primary:"Lista"})]}),Object(h.jsxs)(C.a,{button:!0,component:d.b,to:"/lisaa",children:[Object(h.jsx)(W.a,{children:Object(h.jsx)(et.a,{})}),Object(h.jsx)(N.a,{primary:"Lis\xe4\xe4"})]})]})})]})})})};var it=function(){var t=Object(i.useState)(0),e=Object(j.a)(t,2),a=e[0],n=e[1],o=Object(i.useState)([]),c=Object(j.a)(o,2),O=c[0],p=c[1],v=Object(i.useState)([]),x=Object(j.a)(v,2),f=x[0],g=x[1],k=function(){var t=Object(l.a)(r.a.mark((function t(){var e,a;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://xamkbit.herokuapp.com/saatilanne/mikkeli");case 3:return e=t.sent,t.next=6,e.json();case 6:a=t.sent,g(Object(s.a)(Object(s.a)({},f),{},{lampotila:a.main.temp,virhe:""})),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),g(Object(s.a)(Object(s.a)({},f),{},{virhe:"Ei yhteytt\xe4 palvelimeen. Yrit\xe4 uudelleen hetken kuluttua."}));case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();return Object(i.useEffect)((function(){k(),localStorage.getItem("lista")?p(JSON.parse(localStorage.getItem("lista"))):p([])}),[]),Object(i.useEffect)((function(){localStorage.setItem("lista",JSON.stringify(O))}),[O]),Object(h.jsx)(h.Fragment,{children:f.virhe?Object(h.jsx)(u.a,{color:"error",children:f.virhe}):Object(h.jsxs)(d.a,{children:[Object(h.jsx)(at,{}),Object(h.jsx)(b.a,{path:"/",exact:!0,children:Object(h.jsx)(m,{})}),Object(h.jsx)(b.a,{path:"/lista",children:Object(h.jsx)(V,{tiedot:O,setTiedot:p,data:f,setData:g,kokonais:a,setKokonais:n})}),Object(h.jsx)(b.a,{path:"/lisaa",children:Object(h.jsx)(S,{tiedot:O,setTiedot:p,data:f,setData:g,kokonais:a,setKokonais:n})}),Object(h.jsx)(b.a,{path:"/muokkaa/:id",children:Object(h.jsx)(M,{tiedot:O,setTiedot:p,data:f,setData:g,kokonais:a,setKokonais:n})}),Object(h.jsx)(b.a,{path:"/poista/:id",children:Object(h.jsx)(Y,{tiedot:O,setTiedot:p,kokonais:a,setKokonais:n})})]})})};o.a.render(Object(h.jsx)(it,{}),document.getElementById("root"))}},[[130,1,2]]]);
//# sourceMappingURL=main.dee65cc9.chunk.js.map